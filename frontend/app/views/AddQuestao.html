<div class="row">
    <div id = "buscas" class = "container">
    <div class = "container col-lg-6 offset-sm-3"   id=headbox >
        <h3>CRIAR QUESTÃO</h3>
        <hr>
    </div>

     <!-- ========================  Formulário de Criar Questão  ============================================== -->

    <div class="container" >
        <form class = "col-lg-6 offset-sm-3" >
                
            <!-- ========================  Passo 1  ============================================== -->
            <div ng-show="step == 1">
                <div class="progress form-group row " style="height: 5px;">
                    <div class="progress-bar progress-bar-striped progress-bar-animated" style="width:20%"></div>
                </div>
                <div class="form-group row" required>
                        <label ><h6>Tipo de Questão:</h6></label>
                        <div  class="col-1 addTipo">
                                <div class="custom-control custom-radio custom-control-inline">
                                        <input type="radio" value="Objetiva"  id="customRadioInline1" name="tipo" class="custom-control-input" data-ng-model="tipo"> 
                                        <label class="custom-control-label" for="customRadioInline1">Objetiva</label>
                                    </div>
                                    <div class="custom-control custom-radio custom-control-inline">
                                        <input type="radio"  value="Subjetiva" id="customRadioInline2" name="tipo" class="custom-control-input"  data-ng-model="tipo">
                                        <label class="custom-control-label" for="customRadioInline2">Subjetiva</label>
                                </div>
                        </div>
                </div> 
    

                <div class="form-group row"  >
                    <label><h6>Fonte:</h6></label>
                    <input  type="text"  class="form-control"  placeholder="Ex.: PISA, ENEM ou Autoral" ng-model="fonte">
                </div>

                <div  ng-show="inputError" class="alert alert-warning">
                    <strong>Atenção!</strong> Você deve preencher todos os campos.
                </div>


                <button type="button" class="btn btn-primary" ng-click="checkPasso1('proximo')">Continuar
                        <i class="fas fa-arrow-circle-right"></i>       
                </button>
            </div>

            <!-- ========================  Passo 2  ============================================== -->
            <div ng-show="step == 2">
                <div class="progress form-group row " style="height: 5px;">
                    <div class="progress-bar progress-bar-striped progress-bar-animated" style="width:40%"></div>
                </div>
                <div class="form-group row">
                    <label><h6>Enunciado:</h6></label>
                    <ng-quill-editor id = "quill" modules="editorModules" placeholder="Digite o enunciado da questão." 
                        ng-model="enunciado" on-content-changed="contentChanged()">                          
                    </ng-quill-editor>               
                </div>


                <div class = "conteudoAdd">         
                        <div ng-show="inputError" class="alert alert-warning">
                            <strong>Atenção!</strong> Você deve preencher todos os campos.
                        </div>
                        <div ng-show="loading">
                                <div class="alert alert-warning">
                                    <strong>Identificando competências...</strong>
                                </div>
                            <div class="loader"> </div>
                        </div>
                        <div ng-show="loading === false">
                            <button type="button" class="btn btn-outline-secondary" ng-click="checkPasso1('anterior')">
                                    <i class="far fa-arrow-alt-circle-left"></i>                            
                                    Voltar
                            </button>

                            <button type="button" class="btn btn-primary" ng-click="checkPasso2()">Continuar
                                    <i class="fas fa-arrow-circle-right"></i>       
                            </button>         
                        </div>       
                </div>

            </div>

            <!-- ========================  Passo 3  ============================================== -->
            <div ng-show="step == 3">
                <div class="progress form-group row " style="height: 5px;">
                    <div class="progress-bar progress-bar-striped progress-bar-animated" style="width:60%"></div>
                </div>
            <div class="form-group row">
                <label><h6>Conteúdo:</h6></label>
                <select class="form-control selectpicker" data-none-selected-text= "Selecione um conteúdo" 
                data-none-results-text= "Nenhum resultado encontrado" data-live-search="true" 
                data-live-search-normalize="true" ng-model="conteudo">
                    <option value="">Selecione um conteúdo</option>
                    <option data-tokens="somar">Adição</option>
                    <option >Conjuntos</option>
                    <option data-tokens="Numéricos Complexos Racionais Reais Naturais Irracionais Inteiros">Conjuntos Numéricos</option>
                    <option >Critérios de Divisibilidade</option>
                    <option>Divisão</option>
                    <option>Divisão de Frações</option>
                    <option>Equação do Primeiro Grau</option>
                    <option>Equação do Segundo Grau</option>
                    <option>Estatística</option>
                    <option>Expressões Numéricas</option>
                    <option>Frações</option>
                    <option data-tokens="Formas Geométricas">Geometria</option>
                    <option data-tokens="Cilindro Cubo Cone Esfera Paralelepípedo">Geometria Espacial</option>
                    <option data-tokens="Ângulos Bissetriz Mediatriz Paralelogramo Retas Quadrado Retângulo Trapézio Triângulo">Geometria Plana</option>
                    <option>Inequação</option>
                    <option>Juros Compostos</option>
                    <option>Juros Simples</option>
                    <option>Matrizes</option>
                    <option>MDC: Máximo Divisor Comum</option>
                    <option>MMC: Mínimo Múltiplo Comum</option>
                    <option>Multiplicação</option>
                    <option>Multiplicação de Frações</option>
                    <option>Números Decimais</option>
                    <option>Números Primos</option>
                    <option>Potenciação</option>
                    <option>PA: Progressão Aritmética</option>
                    <option>PG: Progressão Geométrica</option>
                    <option>Plano Cartesiano</option>
                    <option>Porcentagem</option>
                    <option>Produtos Notáveis</option>
                    <option>Radiciação</option>
                    <option>Razão e Proporção</option>
                    <option>Sistemas Lineares</option>
                    <option>Soma de Frações</option>
                    <option>Subtração</option>
                    <option>Subtração de Frações</option>
                    <option>Tabuada</option>
                    <option>Triângulo de Pascal</option>
                    <option data-tokens="Seno Cosseno Tangente">Trigonometria</option>
                    <option>Unidades de Medida</option>
                    <option>Outros</option>
                </select>
            </div>

            <!-- ========================  Campos específicos de questão Subj  ============================================== -->

            <div ng-switch = "isObjective()">
                <div ng-switch-when="false"> 
                    <div class="form-group row">   
                            <label><h6>Espelho da Questão:</h6></label>  
                            <ng-quill-editor modules="editorModules" placeholder="Digite a resposta da questão"
                            ng-model="resposta.espelho" on-content-changed="contentChanged()"> </ng-quill-editor>
                    </div>


                <div class = "conteudoAdd"> 
                        <div  ng-show="inputError" class="alert alert-warning">
                            <strong>Atenção!</strong> Você deve preencher todos os campos.
                        </div>

                            <button type="button" class="btn btn-outline-secondary" ng-click="checkPasso2('anterior')">
                                    <i class="far fa-arrow-alt-circle-left"></i>                            
                                    Voltar
                            </button>
                            <button type="button"   class="btn btn-primary " ng-click="checkPasso3('subjetiva')">Registrar</button>
                </div>
                </div>


             <!-- ========================  Campos específicos de questão Obj  ============================================== -->
                <div ng-switch-when = "true">                  
                    <div class="form-group row">
                        <label><h6>Alternativas:</h6></label>
                    </div>
                    <div class="form-group row ">
                        <div class = "col-sm-6">
                            <div class="form-group row">
                                <label for="inputAlternativa1"><h6>a)</h6></label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control form-control-sm" placeholder="Digite a alternativa a)" id="inputAlternativa1"  ng-model="alternativas.alternativa1">
                                </div>
                                
                            </div>
                            <div class="form-group row">
                                <label for="inputAlternativa2"><h6>b)</h6></label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control form-control-sm" placeholder="Digite a alternativa b)" id="inputAlternativa2"  ng-model="alternativas.alternativa2">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="inputAlternativa3"><h6>c)</h6></label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control form-control-sm" placeholder="Digite a alternativa c)" id="inputAlternativa3"  ng-model="alternativas.alternativa3">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="inputAlternativa4"><h6>d)</h6></label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control form-control-sm" placeholder="Digite a alternativa d)" id="inputAlternativa4"  ng-model="alternativas.alternativa4">
                                    </div>
                            </div>
                            <div class="form-group row">
                                <label for="inputAlternativa5"><h6>e)</h6></label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control form-control-sm" placeholder="Digite a alternativa e)" id="inputAlternativa5"  ng-model="alternativas.alternativa5">
                                </div>
                            </div>                          
                        </div>
                        
                        <div class = "col-sm-6">
                            <div class="form-group row">
                                <label class="form-check-label"><h6>Correta:</h6></label>
                                <div class="ml-5">
                                    <input type="checkbox" class="form-check-input" ng-model="corretas.Value1">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label ><h6>Correta:</h6></label>
                                <div class="ml-5">
                                    <input type="checkbox" class="form-check-input" ng-model="corretas.Value2">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label><h6>Correta:</h6></label>
                                <div class="ml-5">
                                    <input type="checkbox" class="form-check-input" ng-model="corretas.Value3">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label ><h6>Correta:</h6></label>
                                <div class="ml-5">
                                    <input type="checkbox" class="form-check-input" ng-model="corretas.Value4">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label><h6>Correta:</h6></label>
                                <div class="ml-5">
                                    <input type="checkbox" class="form-check-input" ng-model="corretas.Value5">
                                </div>
                            </div>
                        </div>
                </div>
                <div  ng-show="inputError" class="alert alert-warning">
                    <strong>Atenção!</strong> Você deve preencher todos os campos.
                </div>

                    <button type="button" class="btn btn-outline-secondary " ng-click="checkPasso2('anterior')">
                            <i class="far fa-arrow-alt-circle-left"></i>                            
                            Voltar
                    </button>
                    <button type="button" class="btn btn-primary" ng-click="checkPasso3('objetiva')">Continuar</button>
            </div>


            </div>
                                    
            </div>
            <div ng-show="step == 4">
                <div class="progress form-group row " style="height: 5px;">
                    <div class="progress-bar progress-bar-striped progress-bar-animated" style="width:80%"></div>
                </div>
                <label><h6>Competências identificadas pelo classificador automático:</h6></label>
                <div class="competencias" ng-repeat="competencia in competencias"  ng-class="{wrap:!($index % 4)}">
                        <span  class="col-1">
                            <em>{{repaginaCompetencia(competencia)}} </em>
                        </span>
                </div>
                <br>

                <div class="form-group row" required>
                    <label><h6>Competências que você identificou:</h6></label>
                    <table class="table table-striped">
                        <thead>
                            <tr>
                            <th scope="col" style="border-bottom: none">Competência</th>
                            <th scope="col" colspan="2" style="border-bottom: none">Esta competência está presente na questão?</th>
                            </tr>
                        </thead>
                        <thead>
                            <tr>
                            <th scope="col" style="border-top: none"></th>
                            <th scope="col" style="border-top: none">Sim</th>
                            <th scope="col" style="border-top: none">Não</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th scope="row">Abstração</th>
                                <td><input type="radio" value="true" data-ng-model="competenciasAutor['COMP_ABSTRAÇÃO']"></td>
                                <td><input type="radio" value="false" data-ng-model="competenciasAutor['COMP_ABSTRAÇÃO']"></td>
                            </tr>
                            <tr>
                                <th scope="row">Algoritmos</th>
                                <td><input type="radio" value="true" data-ng-model="competenciasAutor['COMP_ALGORITMOS']"></td>
                                <td><input type="radio" value="false" data-ng-model="competenciasAutor['COMP_ALGORITMOS']"></td>
                            </tr>
                            <tr>
                                <th scope="row">Análise</th>
                                <td><input type="radio" value="true" data-ng-model="competenciasAutor['COMP_ANÁLISE']"></td>
                                <td><input type="radio" value="false" data-ng-model="competenciasAutor['COMP_ANÁLISE']"></td>
                            </tr>
                            <tr>
                                <th scope="row">Automação</th>
                                <td><input type="radio" value="true" data-ng-model="competenciasAutor['COMP_AUTOMAÇÃO']"></td>
                                <td><input type="radio" value="false" data-ng-model="competenciasAutor['COMP_AUTOMAÇÃO']"></td>
                            </tr>
                            <tr>
                                <th scope="row">Coleta</th>
                                <td><input type="radio" value="true" data-ng-model="competenciasAutor['COMP_COLETA']"></td>
                                <td><input type="radio" value="false" data-ng-model="competenciasAutor['COMP_COLETA']"></td>
                            </tr>
                            <tr>
                                <th scope="row">Decomposição</th>
                                <td><input type="radio" value="true" data-ng-model="competenciasAutor['COMP_DECOMPOSIÇÃO']"></td>
                                <td><input type="radio" value="false" data-ng-model="competenciasAutor['COMP_DECOMPOSIÇÃO']"></td>
                            </tr>
                            <tr>
                                <th scope="row">Paralelização</th>
                                <td><input type="radio" value="true" data-ng-model="competenciasAutor['COMP_PARALELIZAÇÃO']"></td>
                                <td><input type="radio" value="false" data-ng-model="competenciasAutor['COMP_PARALELIZAÇÃO']"></td>
                            </tr>
                            <tr>
                                <th scope="row">Representação</th>
                                <td><input type="radio" value="true" data-ng-model="competenciasAutor['COMP_REPRESENTAÇÃO']"></td>
                                <td><input type="radio" value="false" data-ng-model="competenciasAutor['COMP_REPRESENTAÇÃO']"></td>
                            </tr>
                            <tr>
                                <th scope="row">Simulação</th>
                                <td><input type="radio" value="true" data-ng-model="competenciasAutor['COMP_SIMULAÇÃO']"></td>
                                <td><input type="radio" value="false" data-ng-model="competenciasAutor['COMP_SIMULAÇÃO']"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="form-group row"  >
                    <label><h6>Seu nível de confiança nesta avaliação: {{confiancaAvaliacao}}%</h6></label>
                    <input type="range" class="custom-range" min="0" max="100" step="1" data-ng-model="confiancaAvaliacao">
                </div>

                <div class="form-group row"  >
                    <label><h6>Aqui você pode escrever alguma observação com relação a avaliação:</h6></label>
                    <textarea class="form-control" data-ng-model="obsAvaliacao" rows="3"></textarea>
                </div>

                
                

                <button type="button" class="btn btn-outline-secondary " ng-click="checkPasso3('anterior')">
                        <i class="far fa-arrow-alt-circle-left"></i>                            
                        Voltar
                </button>
                <button type="button" class="btn btn-primary" ng-click="checkPasso4()">Registrar</button>
            </div>

        </form>

        </div>

        


        </div>

    </div>
</div>


