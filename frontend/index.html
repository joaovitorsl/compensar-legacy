<!DOCTYPE html>
<html ng-app="app">

<head>
    <base href="/index.html">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-signin-scope" content="profile email">
    <meta name="google-signin-client_id" content="363497084086-sj4dhuvvkmcivpbl0h2fgrrvnm0229og.apps.googleusercontent.com">

    <meta charset="UTF-8">
    <title> AEPC </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/css/bootstrap.min.css" integrity="sha384-Smlep5jCw/wG7hdkwQ/Z5nLIefveQRIY9nfy6xoR1uRYBtpZgI6339F5dgvm/e9B" crossorigin="anonymous">
    <link href="styles/home.css" rel="stylesheet" type="text/css">
    <link href="styles/contato.css" rel="stylesheet" type="text/css">
    <link href="styles/login.css" rel="stylesheet" type="text/css">
    <link href="styles/userdata.css" rel="stylesheet" type="text/css">


    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link href="https://unpkg.com/ionicons@4.4.6/dist/css/ionicons.min.css" rel="stylesheet">


    <!--  Quill Editor  -->
    <!-- Style -->
    <link rel="stylesheet" href="https://cdn.quilljs.com/1.2.0/quill.snow.css">
    <link rel="stylesheet" href="https://cdn.quilljs.com/1.2.0/quill.bubble.css">





</head>


<body  class = "text-center">



<!-- Aplicação -->

 <!-- ========================  NavBar  ============================================== -->

 <div ng-switch = "isLogged">
    <div ng-switch-when="false">
                
        <nav  id="nav" class= "navbar navbar-expand-lg navbar-light bg-light fixed-top">
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
        </button>
            
        <div class="collapse navbar-collapse" id="navbarSupportedContent"  ng-controller="LoginController">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item" ng-class="{active: activetab == '/inicio'}"><a class="nav-link" href="/login">Inicio</a></li>
                <li class="nav-item" ng-class="{active: activetab == '/sobre'}"><a class="nav-link" href="#sobre" >Sobre</a></li>
                <li class="nav-item" ng-class="{active: activetab == '/contato'}"><a class="nav-link" href="#contato" >Contato</a></li>
            </ul>
        <div class="nav-item dropdown"> 
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <img id = 'profile' ng-src="{{profile_image}}" class="rounded-circle img-fluid" alt="Placeholder image" width="40px" height="10px"></a>
            <div    class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                <a> <div  class="g-signin2" data-onsuccess="onSignIn"></div></a>
                <div id="myctrl"  ng-controller="LoginController"></div>
            <script>  
            function onSignIn(googleUser) {
                var profile = googleUser.getBasicProfile();             
                angular.element(document.getElementById('myctrl')).scope().login('$rootScope',profile);
                }
            </script>
               
        </div>
        </div>
            
        </div>
        </nav>

    </div>
    <div ng-switch-when = "true">
        <nav  class= "navbar navbar-expand-lg navbar-light bg-light fixed-top">
 
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
          
        <div class="collapse navbar-collapse" id="navbarSupportedContent" ng-controller="LoginController">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item" ng-class="{active: activetab == '/inicio'}"><a class="nav-link" href="/login">Inicio</a></li>
                <li class="nav-item" ng-class="{active: activetab == '/questoes'}"><a class="nav-link" href="/questoes" >Questões</a></li>
                <li class="nav-item" ng-class="{active: activetab == '/criaQuestao'}"><a class="nav-link" href="/addQuestao" >Criar Questao</a></li>
                <li class="nav-item" ng-class="{active: activetab == '/sobre'}"><a class="nav-link" href="/login #sobre" >Sobre</a></li>
                <li class="nav-item" ng-class="{active: activetab == '/contato'}"><a class="nav-link" href="/login #contato" >Contato</a></li>
            </ul>
        <div class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <img id = 'profile' ng-src="{{profile_image}}" class="rounded-circle img-fluid" alt="Placeholder image" width="40px" height="40px"></a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">

                 <h6 class="dropdown-header">{{nome_usuario}}</h6>
                 <a class="dropdown-item" href ="/userdata">Meus Dados</a>
                 <div class="dropdown-divider"></div>
                 <a href="#" class="dropdown-item" onclick="signOut()">Sair</a>
                 <div id="myctrl2" ng-controller="LoginController"></div>

                 <script>
                    function signOut() {
                        var auth2 = gapi.auth2.getAuthInstance();
                        auth2.signOut().then(function () {
                            console.log('User signed out.');
                        });
                        angular.element(document.getElementById('myctrl2')).scope().sair("$rootScope");
                    }

                   function onLoad() {
                    gapi.load('auth2', function() {
                        gapi.auth2.init().then(() => {})
                    });
                    }
                 </script>
                </div>               
        </div>
        </div>
        
    </div>
</div>




<div ng-controller="MainController"></div> 
<div ng-view></div>


 

<!-- Angular JS -->
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-route.js"></script>

<!-- Dependências do BootStrap -->   
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script> 
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script> 
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/js/bootstrap.min.js" integrity="sha384-o+RDsa0aLu++PJvFqy8fFScvbHFLtbvScb8AjopnFD+iEQ7wo/CG0xlczd+2O/em" crossorigin="anonymous"></script>
<script src="https://unpkg.com/ionicons@4.4.6/dist/ionicons.js"></script>



<!--Scripts Aplicação -->
<script src="app/app.js"></script>


<!--Services-->
<script src="app/services/AuthService.js"></script>
<script src="app/services/ProfileService.js"></script>
<script src ="app/services/UserService.js"></script>

<!--Controllers-->
<script src="app/controllers/MainController.js"></script>
<script src="app/controllers/HeadController.js"></script>
<script src="app/controllers/LoginController.js"></script>
<script src="app/controllers/UserDataController.js"> </script>
<script src="app/controllers/SignUpController.js"> </script>
<script src="app/controllers/ContatoController.js"></script>
<script src="app/controllers/AddQuestaoController.js"></script>




<!--Plugins-->
<script src="app/bower_components/angularjs-social-login/angularjs-social-login.js"></script>
<script src="app/bower_components/angular-local-storage/dist/angular-local-storage.js"></script>
<script src="https://apis.google.com/js/platform.js" async defer></script>
<script src="https://apis.google.com/js/platform.js?onload=onLoad" async defer></script>

    <!-- Scripts -->
    <script type="text/javascript" src="https://cdn.quilljs.com/1.2.0/quill.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/ng-quill/2.2.1/ng-quill.min.js"></script>


</body>
</html>